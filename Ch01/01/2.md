### JSX 语法

当初学 React 时，JSX 是我们遇到的第一个新概念。也许我们都是写惯了 JavaScript 程序的开发者，对于类似于静态编译并不感冒。早些年风靡前端界
的 CoffeeScript ，也因为 ES6 标准化的加速推进， 慢慢变为了茶余饭后的谈资。面对 React ，我们又一次需要玩转一门新的静态转译语言，而这一次，
又会有什么不一样的体验呢。

#### 1.2.1 JSX 的由来

JSX 与 React 有什么关系呢？简单来讲，<red>React 为方便 View 层组件化，承载了构建 HTML 结构化页面的职责</red>。从这点上来看，
React 与其他 JavaScript 模板语言有着许多异曲同工之处，但不同之处在于 React 是通过创建与更新虚拟元素 (virtual element) 来管理
整个 Virtual DOM 的。

*JSX 语言的名字最早出现在游戏厂商 DeNA ,但和 React 中的 JSX 不同的是，它意在通过加入增强语法，使得 JavaScript 变得更快、更安全、更简单。*

其中，<red>虚拟元素可以理解为真实元素的对应</red>，它的<red>构建与更新都是在内存中完成的</red>，并不会真正渲染到 DOM 中去。

在 React 中创建的虚拟元素可以分为两类， <red>DOM 元素 (DOM element) </red>与<red>组件元素 (component element) </red>，
分别对应着<red>原生 DOM 元素</red>与<red>自定义元素</red>，而 JSX 与创建元素的过程有着莫大的关联。

接着，我们从这两种元素的构建开始说起。

1. DOM 元素

从过往的经验中知道，Web 页面是由一个个 HTML 元素嵌套组合而成的。当使用 JavaScript 来描述这些元素的时候，这些元素可以简单地被表示成纯粹
的 JSON 对象。比如，现在需要描述一个按钮 (button) ，这用 HTML 语法表示非常简单：

    <button class="btn btn-blue">
        <em>Confirm</em>
    </button>

其中包括了元素的类型和属性。如果转成 JSON 对象，那么依然包括元素的类型以及属性：

    {
        type: 'button',
        props: {
            className: 'btn btn-blue',
            children: {
                type: 'em',
                props: {
                    children: 'Confirm'
                }
            }
        }
    }

这样，我们就可以在 JavaScript 中创建 Virtual DOM 元素了。

在 React 中，到处都是可以复用的元素，这些元素并不是真实的实例，它只是让 React 告诉开发者想要在屏幕上显示什么。我们无法通过方法去调用这些
元素，它们只是不可变的描述对象。

2. 组件元素

当然，我们可以很方便地封装上述 button 元素，得到一种构建按钮的公共方法：

    const Button => ({ color, text }){
        return {
            type: 'button',
            props: {
                className: `btn btn-${color}`,
                children: {
                    type: 'em',
                    props: {
                        children: text,
                    }
                }
            }
        };
    }

自然，当我们要生成 DOM 元素中具体的按钮时，就可以方便地调用 Button ('blue', 'Confirm') 来创建。

仔细